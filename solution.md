# 다세대주택 호실별 보증금/월세 조회 솔루션 설계 메모

## 1) 현실적인 데이터 가용성 판단
- **등기부등본(등기소) API는 사실상 일반 공개 API가 아님**: 대부분의 경우 법원 등기소 시스템은 대량/자동 조회용 API를 민간에 제공하지 않습니다. 따라서 “등기부등본 API로 호실별 임대차 보증금/월세”를 직접 얻는 방식은 현실적으로 어렵습니다.
- **공공데이터포털 API에서 임대차 정보의 범위를 확인**해야 합니다. 통상적으로 공개 데이터는 ‘전월세 실거래가(신고)’ 수준의 통계성/거래성 데이터이고, **개별 호실의 계약 조건을 전수로 제공하는 형태가 아닙니다.**

## 2) 목표 정의 재정립 (가능한 방향)
- **가능한 목표**: “다세대주택 주소(지번/도로명) 기반으로, 주변 또는 동일 건물 내 전월세 실거래 사례를 찾아 호실별 임대차 수준을 *추정*하거나 *참고 범위*로 제시”
- **어려운 목표**: “등기부등본/건축물대장/공공데이터로 해당 건물의 모든 호실의 현재 보증금/월세를 정확히 제공”

## 3) 데이터 소스 설계(현실적인 조합)
### A. 건축물대장(공공데이터)
- 용도/층/세대수 등 **건물 정보** 파악에 활용
- 호실(세대) 구성, 연면적, 용도, 건축연도 등 **구조적 정보**

### B. 전월세 실거래가(공공데이터)
- **거래가** 정보(보증금/월세), 거래 시점
- 주소/지번 기반으로 **해당 건물 내 신고 거래 이력**을 조회
- 단, **모든 호실이 신고된 것이 아니며, 최신성이 떨어질 수 있음**

### C. 추가 보완 데이터(민간/제휴)
- 중개 플랫폼/제휴 데이터가 있으면 정확도 개선 가능
- 공실 여부, 현재 호가 등은 공개 데이터만으로는 한계

## 4) 아키텍처 제안
1. **주소 정규화/지번 변환 레이어**
   - 도로명→지번 변환
   - 법정동/행정동 매핑
2. **건축물대장 조회**
   - 건물의 세대 구성, 용도, 층수 등 기초 정보 확보
3. **전월세 실거래가 조회**
   - 동일 주소/지번 기준으로 거래 이력 수집
4. **호실별 매칭/추정 로직**
   - 실제 거래가 존재하는 호실만 정확히 표시
   - 거래가 없는 호실은 “추정 범위”로 표시 (유사 면적/층/거래가 기반)
5. **리포팅/시각화**
   - 호실별 추정 보증금/월세 + 확신도(근거 수준)

## 5) 법적/윤리적 고려
- **개인정보 및 계약 내용 노출 위험**
- 공개 데이터 이용약관 및 목적 외 사용 제한 확인
- 사용자에게 “공개 데이터 기반의 참고 추정치”임을 명시

## 6) 결론
- 질문한 방식(등기부등본 API + 건축물대장으로 호실별 보증금/월세)을 **그대로 실현하기는 매우 어렵습니다.**
- 현실적으로는 **전월세 실거래가 + 건축물대장 + 주소 정규화**를 결합해 “부분적으로 확인되는 거래”를 **추정/참고 정보**로 제공하는 솔루션이 타당합니다.
- **정확한 호실별 현재 임대차 조건**이 필요하다면, **민간 제휴 데이터 확보 또는 공인중개사 협업**이 사실상 필수입니다.
